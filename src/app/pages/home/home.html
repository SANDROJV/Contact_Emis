<h1 class="title">ერთიანი სატელეფონო სისტემა</h1>

<section class="search-form">
  <div class="input-group">
    <input
      type="text"
      name="search"
      placeholder="მოძებნეთ თანამშრომელი..."
      maxlength="100"
      [(ngModel)]="searchKeyword"
      (input)="applyFilters()"
    />
    <i class="fas fa-search search-icon"></i>
  </div>
</section>

<section class="org-filter">
  <button
    *ngFor="let org of orgs"
    class="orgBtn"
    [class.active]="activeOrgId === org.id"
    [title]="org.name"
    (click)="filterWorkersByOrg(org.id)"
  >
    <img [src]="'assets/' + org.logo" [alt]="org.name" />
    <p>{{ org.name }}</p>
  </button>
</section>

<section class="workers">
  <h2 class="subtitle">თანამშრომლები</h2>
  <div class="box-container workers-container">
    <app-worker-card
      *ngFor="let worker of visibleWorkers"
      [worker]="worker"
      [orgs]="orgs"
    ></app-worker-card>
    <div *ngIf="filteredWorkers.length === 0" class="no-workers-message">
      <p>ამჟამად ვერ მოიძებნა თანამშრომელი ამ კრიტერიუმით.</p>
      <button class="btn reset-btn" (click)="resetFilter()">აჩვენე ყველა</button>
    </div>
    <div class="show-more-wrap" *ngIf="canShowMore()">
      <button class="btn show-more-btn fa-solid fa-angle-down" (click)="showMore()"></button>
    </div>
  </div>
</section>
